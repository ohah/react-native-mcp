# 커밋 규칙

**중요**: 모든 커밋은 단일 목적에 집중하고, 논리적으로 분리되어야 합니다.

## 커밋 메시지 형식

```
<type>(<scope>): <subject>

<body>

<footer>
```

## Type (필수)

- `feat`: 새로운 기능 추가
- `fix`: 버그 수정
- `refactor`: 코드 리팩토링 (기능 변경 없음)
- `test`: 테스트 추가/수정
- `docs`: 문서 업데이트
- `chore`: 빌드 설정, 의존성 업데이트 등
- `style`: 코드 포맷팅, 세미콜론 누락 등 (기능 변경 없음)

## Scope (선택)

- `server`: MCP 서버 패키지 관련
- `react-native`: React Native 클라이언트 관련
- `docs`: 문서 관련
- `scripts`: 빌드/초기화 스크립트 관련
- `config`: 프로젝트 설정 파일 관련

## Subject (필수)

- **한국어**로 작성
- 50자 이내로 간결하게 작성
- 명령형으로 작성 (과거형 X)
- 마지막에 마침표(.) 사용하지 않음

## Body (선택)

- **한국어**로 작성
- 72자마다 줄바꿈
- 무엇을, 왜 변경했는지 설명
- 어떻게 변경했는지는 코드로 보이므로 생략 가능

## Footer (선택)

- Breaking changes, Issue 번호 등

## 커밋 예시

```
feat(server): MCP 서버 및 도구 지원 추가

- MCP 프로토콜 기반 서버 구현
- 여러 도구(Tool) 등록 및 실행 지원
- 연결 상태 관리 추가
```

```
fix(react-native): WebSocket 재연결 처리 수정

- 연결 끊김 시 재연결 로직 수정
- 지수 백오프 적용
```

## 커밋 원칙

1. **단일 목적**: 하나의 커밋은 하나의 목적만 가져야 함
2. **논리적 분리**: 관련 없는 변경사항은 별도 커밋으로 분리
3. **독립적 의미**: 각 커밋은 독립적으로 의미가 있어야 함
4. **되돌리기 용이**: 특정 기능만 되돌릴 수 있도록 구성
5. **작은 단위**: 가능한 작은 단위로 커밋 (하지만 너무 작지 않게)

## 커밋 순서 예시

1. 의존성 추가
2. 타입 정의
3. 기능 구현
4. 리팩토링
5. 테스트 추가
6. 문서 업데이트

## 커밋 전 필수 작업

**중요**: 커밋하기 전에 반드시 다음 작업을 수행해야 합니다.

도구 버전은 [mise](https://mise.jdx.dev/)로 관리됩니다 (`.mise.toml`). 포맷/린트는 `mise exec --`로 실행하여 프로젝트의 bun을 사용합니다.

1. **코드 포맷팅 검사 및 적용**:

   ```bash
   mise exec -- bun run format
   ```

   - `bun format` 명령어로 코드 포맷팅을 검사하고 자동으로 수정합니다
   - 포맷팅 오류가 있으면 자동으로 수정되므로, 수정된 파일을 함께 커밋해야 합니다
   - 포맷팅 검사를 통과한 후에만 커밋을 진행합니다

2. **린트 검사** (필수):
   ```bash
   mise exec -- bun run lint
   ```

   - `bun lint` 명령어로 코드 품질을 검사합니다
   - 린트 오류가 있으면 수정 후 커밋합니다
   - 린트 검사를 통과한 후에만 커밋을 진행합니다

**커밋 전 체크리스트**:

- [ ] `mise exec -- bun run format` 실행하여 포맷팅 검사 및 수정
- [ ] 포맷팅으로 변경된 파일이 있으면 함께 스테이징
- [ ] `mise exec -- bun run lint` 실행하여 린트 검사
- [ ] 모든 검사를 통과한 후 커밋 진행
